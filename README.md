

# Отчет по попытке создать data-driven классификатор машин яндекс.go


### 1. Для чего вообще использовать классификатор?

Классификатор помогает определяеть модели машин, которые больше нравятся пользователям. Если брендировать именно такие машины, то ассоциации с брендом будут более приятными.

Классификатор влияет на две основные метрики: share of voice и defect rate. В данном случае между ними есть зависимость: можно брендировать либо много машин, но часть из них будут «так себе», либо брендировать меньше, но все они будут оправдывать ожидания даже искушенных пользователей.

На мой взгляд, объективно плохих автомобилей нет (за исключением физической изношенности), поэтому стоит выбрать некоторый порог для процента плохих и отмененных поездок с тегом «плохой автомобиль», выше которого значение не должно подниматься, и выбрать максимальное количество удовлетворяющих этому условию автомобилей.

### 2. Анализ данных и выводы

#### Детали анализа:

    • Data-driven подход нуждается в достаточном количестве данных, так что я анализировала выборку автомобилей, которые удовлетворяли условию:
      (количество совершенных поездок + количество отмененных поездок) > 200

    • Я создала несколько дополнительных параметров:
        ◦ Процент оценок с тегом «неудовлетворительная модель автомобиля» в поездках с оценкой ниже 5  (diss_car_tag_percent)
        ◦ Процент причины «плохая модель автомобиля» в случаях отмены поездки (bad_car_tag_percent)
        ◦ Процент поездок, которые вообще были оценены (trips_rated_percent) 
        ◦ Отношение количества поездок с тегом «неудовлетворительная модель автомобиля» и отмененных поездок с тегом «плохая модель автомобиля» (poor_car_to_all_trips_percent)

    • Все изначальные числовые параметры были нормированы на количество автомобилей модели

    • Для классификации я выбрала алгорим k-means
    • Параметрами для алгорима стали указанные выше синтезированные метрики

#### Выводы:
    • Класс в альтернативном классификаторе сменился у 39.2% моделей
    • Кратко об изменениях ключевых метрик (в скобках изменение среднего (mean) для моделей, принадлежащих к классу «можно брендировать» в обоих классификаторах):
        ◦ bad_car_tag_percent 				     	      (0.010 → 0.014, +40%)
        ◦ diss_car_tag_percent 					          (0.030 → 0.021, -30%)
        ◦ trips_rated_percent 					          (0.187 → 0.268, +53%)
        ◦ poor_car_to_all_trips_percent 		      (0.116 → 0.154, +33%)
        ◦ trips_success_cnt_per_car				        (345.6 → 481.4, +39%)
        ◦ bad_car_model_tag_cnt_per_car 		      (0.653 → 0.889, +36%)
        ◦ dissapointed_car_model_tag_cnt_per_car 	(0.121 → 0.102, -15%)
        ◦ trips_cancel_cnt_per_car 				        (37.93 → 53.2,  +40%)
        ◦ trips_defect_cnt_per_car 				        (2.38 → 3.447,  +45%)
      
    • Изменение экономики партнеров:
        ◦ По изначальному классификатору могут быть брендированы 30340 автомобилей (799 моделей)
        ◦ По альтернативному классификатору могут быть брендированы 32512 (+7%) автомобилей (1133 моделей (+ 41.8%))
    • Учитывая, что ключевые метрики хоть и изменились сравнительно на десятки процентов, количественно они увеличились не слишком сильно  (хотя некоторые оказались выше среднего показателя по указанной выборке), а прирост количества моделей, которые можно брендировать, оказался значительным
    • В целом метод разделения данных выбран неудачно, есть ощущения, что k-means тут не подходит. Возможно, стоило создать агрегированную метрику, являющуюся суммой некоторых ключевых метрик.
    • Количество рекомендуемых к классификации автомобилей выросло незначительно, а метрики «испортились» весьма сильно, некоторые даже стали больше, чем среднее значение по всей данной выборке.

В целом, после проведенного анализа я считаю, что классификатор, полученный данным способом не оказывается значительно лучше изначального.

Допущения, чтобы поверить в данные:
    • Выбранные и синтезированные метрики отражают мнение пользователей о модели автомобиля
    • Брендирование или его отсутствие само по себе не влияет на внешний вид в восприятии пользователя (стоит проверить и обратную гипотезу: возможно, пользователи больше доверяют брендированным автомобилям или любят желтый цвет)
    • Данные разделимы с помощью алгорима k-means

### 3.  Продуктовые сценарии

    • Как внедрить классификатор?
        ◦ Когда: можно внедрить сразу
        ◦ Насколько плавно: не принимать решение об оклейке автомобиля новой модели, пока не накопится достаточно данных для анализа альтернативным способом (хотя бы 200 записей о попытках поездок (успешных или отмененных))
        ◦ Можно помочь партнерам: ввести дополнительные скидки на оклейку для моделей, у которых очень низкие ключевые метрики или субсидировать снятие оклейки 

    • Как проконтролировать соблюдение правил?
        ◦ Собирать данные о моделях оклееваемых машин у оклейщиков и раз в период сравнивать их с перечнем классифицированных как «рекомендуемые к оклейке»
        ◦ Для машин, не рекомендуемых к оклейке, но уже брендированных (если есть цель иметь брендированными только «рекомендуемые»):
            ▪ Составить перечень мест, где предоставляют услугу снятия оклейки
            ▪ Субсидировать в них эту услугу для партнеров
            ▪ Собирать данные из этих мест и сверять со списком не рекомендуемых к брендированию моделей
